
{
    "entities": {
        "User": {
            "title": "User",
            "type": "object",
            "description": "Represents a user and their company details within the ChronoPay application.",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "The unique identifier for the user, matches Firebase Auth UID."
                },
                "name": {
                    "type": "string",
                    "description": "The name of the user."
                },
                "email": {
                    "type": "string",
                    "description": "The email address of the user.",
                    "format": "email"
                },
                "avatarUrl": {
                    "type": "string",
                    "description": "URL of the user's avatar image."
                },
                "role": {
                    "type": "string",
                    "description": "The role of the user.",
                    "enum": [
                        "Admin",
                        "Member"
                    ]
                },
                "companyName": { "type": "string", "description": "The user's company name." },
                "companyAddress": { "type": "string", "description": "The user's company address." },
                "companyVat": { "type": "string", "description": "The user's company VAT number." },
                "companyIban": { "type": "string", "description": "The user's company IBAN." },
                "companyBankName": { "type": "string", "description": "The user's company bank name." },
                "companySwift": { "type": "string", "description": "The user's company SWIFT/BIC code." },
                "companyVatRate": { "type": "number", "description": "The user's company VAT rate." },
                "companyLogoUrl": { "type": "string", "description": "URL for the user's company logo." }
            },
            "required": [
                "id",
                "name",
                "email",
                "role"
            ]
        },
        "Client": {
            "title": "Client",
            "type": "object",
            "description": "Represents a client company.",
            "properties": {
                "name": {
                    "type": "string"
                },
                "address": {
                    "type": "string"
                },
                "vat": {
                    "type": "string"
                },
                "iban": {
                    "type": "string"
                },
                "logoUrl": {
                    "type": "string"
                },
                "language": {
                    "type": "string",
                    "enum": ["English", "Romanian"],
                    "description": "The language for the invoice."
                },
                "bankName": {
                    "type": "string"
                },
                "swift": {
                    "type": "string"
                },
                "order": {
                    "type": "number",
                    "description": "The display order of the client."
                }
            },
            "required": [
                "name",
                "address"
            ]
        },
        "Project": {
            "title": "Project",
            "type": "object",
            "description": "Represents a project for a client.",
            "properties": {
                "name": {
                    "type": "string"
                },
                "clientId": {
                    "type": "string"
                },
                "clientName": {
                    "type": "string"
                },
                "invoiceTheme": {
                    "type": "string",
                    "enum": ["Classic", "Modern", "Sunset", "Ocean", "Monochrome", "Minty", "Velvet", "Corporate Blue", "Earthy Tones", "Creative"],
                    "description": "The default invoice theme for this project."
                },
                "order": {
                    "type": "number",
                    "description": "The display order of the project."
                },
                "currency": {
                    "type": "string"
                },
                "invoiceNumberPrefix": {
                    "type": "string"
                },
                "hasVat": {
                    "type": "boolean",
                    "description": "Indicates if VAT should be applied for this project."
                },
                "maxExchangeRate": {
                    "type": "number",
                    "description": "Maximum exchange rate cap in RON."
                },
                "maxExchangeRateDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Date the max exchange rate was set."
                },
                "rate": {
                    "type": "number",
                    "description": "The billing rate for the project."
                },
                "rateType": {
                    "type": "string",
                    "enum": ["daily", "hourly"],
                    "description": "The type of billing rate (daily or hourly)."
                },
                "hoursPerDay": {
                    "type": "number",
                    "description": "How many hours constitute a 'day' for billing."
                }
            },
            "required": [
                "name",
                "clientId",
                "clientName",
                "invoiceNumberPrefix"
            ]
        },
        "Timecard": {
            "title": "Timecard",
            "type": "object",
            "description": "Represents a single time entry for hours worked on a project.",
            "properties": {
                "projectId": {
                    "type": "string",
                    "description": "The ID of the associated project."
                },
                "projectName": {
                    "type": "string",
                    "description": "The name of the associated project."
                },
                "clientId": {
                    "type": "string",
                    "description": "The ID of the associated client."
                },
                "clientName": {
                    "type": "string",
                    "description": "The name of the associated client."
                },
                "date": {
                    "type": "string",
                    "format": "date",
                    "description": "The date the work was performed."
                },
                "hours": {
                    "type": "number",
                    "description": "The number of hours worked."
                },
                "description": {
                    "type": "string",
                    "description": "Optional notes about the work done."
                },
                "status": {
                    "type": "string",
                    "enum": ["Unbilled", "Billed"],
                    "description": "The billing status of the timecard."
                },
                "invoiceId": {
                    "type": "string",
                    "description": "The ID of the invoice this timecard is associated with, once billed."
                }
            },
            "required": ["projectId", "projectName", "clientId", "clientName", "date", "hours", "status"]
        },
        "Invoice": {
            "title": "Invoice",
            "type": "object",
            "description": "Represents an invoice.",
            "properties": {
                "invoiceNumber": {
                    "type": "string"
                },
                "companyName": {
                    "type": "string"
                },
                "companyAddress": {
                    "type": "string"
                },
                "companyVat": {
                    "type": "string"
                },
                "companyBankName": {
                    "type": "string"
                },
                "companyIban": {
                    "type": "string"
                },
                "companySwift": {
                    "type": "string"
                },
                "clientName": {
                    "type": "string"
                },
                "clientAddress": {
                    "type": "string"
                },
                "clientVat": {
                    "type": "string"
                },
                "projectId": {
                    "type": "string",
                    "description": "The ID of the associated project."
                },
                "projectName": {
                    "type": "string",
                    "description": "The name of the associated project (denormalized)."
                },
                "date": {
                    "type": "string",
                    "format": "date"
                },
                "currency": {
                    "type": "string"
                },
                "language": {
                    "type": "string",
                    "enum": ["English", "Romanian"],
                    "description": "The language for the invoice."
                },
                "items": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "description": {
                                "type": "string"
                            },
                            "quantity": {
                                "type": "number"
                            },
                            "unit": {
                                "type": "string"
                            },
                            "rate": {
                                "type": "number"
                            },
                            "amount": {
                                "type": "number"
                            }
                        },
                        "required": [
                            "description",
                            "quantity",
                            "unit",
                            "rate",
                            "amount"
                        ]
                    }
                },
                "subtotal": {
                    "type": "number"
                },
                "vatAmount": {
                    "type": "number"
                },
                "vatRate": {
                    "type": "number",
                    "description": "The VAT rate applied to the invoice."
                },
                "total": {
                    "type": "number"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "Created",
                        "Sent",
                        "Paid"
                    ]
                },
                "totalRon": {
                    "type": "number"
                },
                "exchangeRate": {
                    "type": "number"
                },
                 "usedMaxExchangeRate": {
                    "type": "boolean",
                    "description": "Indicates if the client's max exchange rate was used."
                },
                "theme": {
                  "type": "string",
                  "enum": ["Classic", "Modern", "Sunset", "Ocean", "Monochrome", "Minty", "Velvet", "Corporate Blue", "Earthy Tones", "Creative"],
                  "description": "The visual theme of the invoice."
                },
                "billedTimecardIds": {
                  "type": "array",
                  "items": { "type": "string" },
                  "description": "An array of Timecard IDs that have been billed on this invoice."
                }
            },
            "required": [
                "invoiceNumber",
                "clientName",
                "projectId",
                "date",
                "currency",
                "items",
                "total",
                "status"
            ]
        }
    },
    "auth": {
        "providers": [
            "google"
        ]
    },
    "firestore": {
        "/users/{userId}": {
            "schema": {
                "$ref": "#/entities/User"
            },
            "description": "Stores user profiles and their company settings."
        },
        "/users/{userId}/clients/{clientId}": {
            "schema": {
                "$ref": "#/entities/Client"
            },
            "description": "Stores client information for a specific user."
        },
        "/users/{userId}/projects/{projectId}": {
            "schema": {
                "$ref": "#/entities/Project"
            },
            "description": "Stores project information for a specific user."
        },
        "/users/{userId}/invoices/{invoiceId}": {
            "schema": {
                "$ref": "#/entities/Invoice"
            },
            "description": "Stores invoice information for a specific user."
        },
        "/users/{userId}/timecards/{timecardId}": {
            "schema": {
                "$ref": "#/entities/Timecard"
            },
            "description": "Stores individual timecard entries for a user."
        }
    }
}
